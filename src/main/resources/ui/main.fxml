<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.darkeye.ui.MainController">
   <top>
      <VBox spacing="10.0">
         <padding>
            <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
         </padding>
         <HBox spacing="10.0">
            <Label text="Log Path:" />
            <TextField fx:id="pathField" HBox.hgrow="ALWAYS" promptText="Select a directory or file to collect logs from" />
            <Button fx:id="browseButton" onAction="#browseForPath" text="Browse" />
            <Button fx:id="startButton" onAction="#startCollection" text="Start" />
            <Button fx:id="stopButton" onAction="#stopCollection" text="Stop" disable="true" />
         </HBox>
         <HBox spacing="20.0">
            <Label fx:id="statusLabel" text="Status: Ready" />
            <Label fx:id="logCountLabel" text="Logs: 0" />
            <Label fx:id="alertCountLabel" text="Alerts: 0" />
         </HBox>
      </VBox>
   </top>
   <center>
      <SplitPane dividerPositions="0.7" orientation="VERTICAL">
         <items>
            <VBox>
               <children>
                  <Label text="Log Entries" />
                  <TableView fx:id="logTable" VBox.vgrow="ALWAYS">
                     <columns>
                        <TableColumn fx:id="timestampColumn" prefWidth="150.0" text="Timestamp" />
                        <TableColumn fx:id="severityColumn" prefWidth="80.0" text="Severity" />
                        <TableColumn fx:id="sourceColumn" prefWidth="200.0" text="Source" />
                        <TableColumn fx:id="srcIpColumn" prefWidth="120.0" text="Source IP" />
                        <TableColumn fx:id="messageColumn" prefWidth="400.0" text="Message" />
                     </columns>
                  </TableView>
               </children>
            </VBox>
            <VBox>
               <children>
                  <Label text="Security Alerts" />
                  <TableView fx:id="alertTable" VBox.vgrow="ALWAYS">
                     <columns>
                        <TableColumn fx:id="alertTimestampColumn" prefWidth="150.0" text="Timestamp" />
                        <TableColumn fx:id="alertSeverityColumn" prefWidth="80.0" text="Severity" />
                        <TableColumn fx:id="alertRuleColumn" prefWidth="120.0" text="Rule" />
                        <TableColumn fx:id="alertTitleColumn" prefWidth="400.0" text="Title" />
                     </columns>
                  </TableView>
               </children>
            </VBox>
         </items>
      </SplitPane>
   </center>
</BorderPane>
